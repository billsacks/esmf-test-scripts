machine: acorn
account: emc
queue: workq
git-https: True
scheduler: pbs
corespernode: 128
compiler: [intel]
intel:
     versions: 
       2019.3: 
         compiler: intel/19.1.3.217          
         netcdf: cray-netcdf/4.7.4.0 
         mpi:
           mpi: 
             module: cray-mpich/8.0.15
         extra_env_vars: 
            var1: ESMF_OS=Linux
            var2: ESMF_CXXCOMPILER=CC
            var3: ESMF_F90COMPILER=ftn
            var4: ESMF_CXXLINKER=CC
            var5: ESMF_F90LINKER=ftn
            var6: ESMF_MPIRUN=mpirun.unicos
            var7: ESMF_CXXCOMPILECPPFLAGS=-fPIC
            var8: ESMF_CXXLINKOPTS=-fPIC
         extra_commands: 
            cmd1: "sed -i 's/aprun/cray aprun/' scripts/mpirun.unicos"
            cmd2: "sed -i 's/lmpi++/lfmpich/' build_config/Linux.intel.default/build_rules.mk"
     extramodule: cpe-intel 
     unloadmodule: "cpe-cray cce"
gfortran:
     versions: 
       9.3.0: 
         compiler: gcc/9.3.0
         netcdf: cray-netcdf/4.7.4.0
         mpi:
           mpich3: 
             module: cray-mpich/8.0.15
         extra_env_vars: 
            var1: ESMF_OS=Linux
            var2: ESMF_CXXCOMPILER=CC
            var3: ESMF_F90COMPILER=ftn
            var4: ESMF_CXXLINKER=CC
            var5: ESMF_F90LINKER=ftn
            var6: ESMF_MPIRUN=mpirun.unicos
         extra_commands: 
            cmd1: "sed -i 's/aprun/cray aprun/' scripts/mpirun.unicos"
       
#      10.1.0: 
#        module: gcc/10.1.0
#        netcdf: cray-netcdf/4.7.4.0
#        mpi:
#          mpi: cray-mpich/8.0.15
     extramodule: cpe-gnu
     unloadmodule: "cpe-cray cce"
